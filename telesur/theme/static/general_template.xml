<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xi="http://www.w3.org/2001/XInclude">


    <rules css:if-content=".template-login_form,
                            body.template-folder_listing,
                           .template-overview-controlpanel,
                           .template-edit,
                           .template-atct_edit,
                           .portaltype-folder,
                           .portaltype-plone-site,
                           .template-mapa,
                           .portaltype-topic,
                           body[class*='template-collective.polls.poll'],
                           body[class*='template-collective.nitf.content'],
                           body[class*='template-telesur.contenttypes.program'],
                           body[class*='template-telesur.contenttypes.edition'],
                           .portaltype-telesur-contenttypes-program,
                           .portaltype-telesur-contenttypes-edition,
                           .template-manage-portlets,
                           .portaltype-document">
        <theme href="general.html" />

        <drop css:content="#viewlet-above-content"/>
        <drop css:content="#content .documentActions"/>

        <rules css:if-content="body:not(.template-manage-portlets)">
          <replace
            css:theme-children=".no-columns .content-placeholder"
            css:content-children="#portal-column-content" />

          <!-- if we are in programas -->
          <rules css:if-content=".portaltype-telesur-contenttypes-program">
            <!-- quitamos todos los elementos de la UI que no queremos -->
            <drop css:theme=".has-column"/>
            <drop css:theme=".edit-bar-wrapper"/>
            <drop css:content="#content .documentFirstHeading"/>
            <drop css:content="#content .documentDescription"/>
          </rules>
        </rules>
        <rules css:if-content=".template-manage-portlets">
          <replace
            css:theme-children=".no-columns .content-placeholder"
            css:content-children="#portal-columns" />
        </rules>
        
        <!-- IF we are in the edit view of nitf -->
        <rules css:if-content="body[class*='template-collective.nitf.content']">
          <after css:theme="#footer-wrapper">
            <script src="++theme++telesur.theme/character-counter.js" type="text/javascript"></script>
          </after>
        </rules>     
        
    </rules>

</rules>
